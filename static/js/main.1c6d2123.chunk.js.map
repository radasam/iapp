{"version":3,"sources":["context/pump/pumpContext.js","context/pump/pumpReducer.js","context/types.js","utils/setAuthToken.js","context/pump/PumpState.js","context/auth/authContext.js","components/Navbar.js","components/Widgets/DayDrop.js","components/Widgets/TypeDrop.js","components/PumpSettings.js","components/PumpPlot.js","components/Pump.js","Pages/Login.js","Pages/Camera.js","context/auth/authReducer.js","context/auth/AuthState.js","routing/PrivateRoute.js","App.js","index.js"],"names":["pumpContext","createContext","state","action","type","pumpStatus","payload","loaded","sensordata","setAuthToken","token","axios","defaults","headers","common","PumpState","props","useReducer","pumpReducer","pumpid","times","days","durations","threshold","dispatch","getStatus","a","localStorage","get","crossdomain","status","console","log","data","getSensorData","updateStatus","post","resData","records","runPump","duration","Provider","value","children","authContext","Navbar","useContext","AuthContext","isAuthenticated","logout","guestlinks","to","authlinks","onClick","href","className","DayDrop","onChange","name","childkey","day","key","hidden","TypeDrop","charAt","toUpperCase","slice","PumpSettings","PumpContext","useState","stateStatus","setStateStatus","useEffect","e","target","includes","concat","parseInt","replace","length","addRow","htmlFor","map","index","time","document","getElementById","style","marginRight","id","step","PumpPlot","GoogleCharts","load","api","visualization","arrayToDataTable","item","Date","options","title","vAxis","viewWindow","max","Math","apply","row","min","chartArea","width","LineChart","draw","Pump","Login","login","history","push","username","password","formData","setFormData","preventDefault","onSubmit","Camera","currpic","setCurrpic","startX","innerHTML","addEventListener","changedTouches","screenX","nextPic","lastPic","setItem","loading","removeItem","error","AuthState","initalState","getItem","authReducer","config","res","response","msg","clearErrors","PrivateRoute","Component","component","rest","render","App","exact","path","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.1c6d2123.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst pumpContext = createContext();\r\n\r\nexport default pumpContext;\r\n","import { GET_STATUS, UPDATE_STATUS, GET_SENSOR_DATA } from '../types';\r\n\r\nexport default (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase GET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpumpStatus: action.payload,\r\n\t\t\t\tloaded: true,\r\n\t\t\t};\r\n\t\tcase GET_SENSOR_DATA:\r\n\t\t\treturn { ...state, sensordata: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","export const GET_STATUS = 'GET_STATUS';\r\nexport const UPDATE_STATUS = 'UPDATE_STATUS';\r\nexport const GET_SENSOR_DATA = 'GET_SENSOR_DATA';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\n","import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n\tif (token) {\r\n\t\taxios.defaults.headers.common['x-auth-token'] = token;\r\n\t} else {\r\n\t\tdelete axios.defaults.headers.common['x-auth-token'];\r\n\t}\r\n};\r\n\r\nexport default setAuthToken;\r\n","import React, { useReducer } from 'react';\r\nimport PumpContext from './pumpContext';\r\nimport pumpReducer from './pumpReducer';\r\nimport setAuthToken from '../../utils/setAuthToken';\r\nimport axios from 'axios';\r\n\r\nimport { GET_STATUS, UPDATE_STATUS, GET_SENSOR_DATA } from '../types';\r\n\r\nconst PumpState = (props) => {\r\n\tconst initialState = {\r\n\t\tpumpStatus: {\r\n\t\t\tpumpid: 1,\r\n\t\t\ttype: 'off',\r\n\t\t\ttimes: [''],\r\n\t\t\tdays: [''],\r\n\t\t\tdurations: [''],\r\n\t\t\tthreshold: 20000,\r\n\t\t},\r\n\t\tloaded: false,\r\n\t\tsensordata: [],\r\n\t};\r\n\r\n\tconst [state, dispatch] = useReducer(pumpReducer, initialState);\r\n\r\n\tconst getStatus = async (pumpid) => {\r\n\t\tif (localStorage.token) {\r\n\t\t\tsetAuthToken(localStorage.token);\r\n\t\t}\r\n\r\n\t\tconst status = await axios.get(\r\n\t\t\t'https://fb26d8c2.ngrok.io/pump/status/' + pumpid,\r\n\t\t\t{\r\n\t\t\t\tcrossdomain: true,\r\n\t\t\t}\r\n\t\t);\r\n\t\tconsole.log(status.data.status.type);\r\n\t\tswitch (status.data.status.type) {\r\n\t\t\t// case 'off':\r\n\t\t\tcase 'off':\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_STATUS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tpumpid: status.data.status.pumpid,\r\n\t\t\t\t\t\ttype: 'off',\r\n\t\t\t\t\t\ttimes: [''],\r\n\t\t\t\t\t\tdays: [''],\r\n\t\t\t\t\t\tdurations: [''],\r\n\t\t\t\t\t\tthreshold: 20000,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'schedule':\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_STATUS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tpumpid: status.data.status.pumpid,\r\n\t\t\t\t\t\ttype: status.data.status.type,\r\n\t\t\t\t\t\ttimes: status.data.status.times,\r\n\t\t\t\t\t\tdays: [''],\r\n\t\t\t\t\t\tdurations: status.data.status.durations,\r\n\t\t\t\t\t\tthreshold: 20000,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\tcase 'scheduleday':\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_STATUS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tpumpid: status.data.status.pumpid,\r\n\t\t\t\t\t\ttype: status.data.status.type,\r\n\t\t\t\t\t\ttimes: status.data.status.times,\r\n\t\t\t\t\t\tdays: status.data.status.days,\r\n\t\t\t\t\t\tdurations: status.data.status.durations,\r\n\t\t\t\t\t\tthreshold: 20000,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tgetSensorData(pumpid);\r\n\t};\r\n\r\n\tconst updateStatus = async (pumpStatus) => {\r\n\t\tif (localStorage.token) {\r\n\t\t\tsetAuthToken(localStorage.token);\r\n\t\t}\r\n\r\n\t\tswitch (pumpStatus.type) {\r\n\t\t\tcase 'off':\r\n\t\t\t\tpumpStatus = {\r\n\t\t\t\t\t...pumpStatus,\r\n\t\t\t\t\ttimes: [''],\r\n\t\t\t\t\tdays: [''],\r\n\t\t\t\t\tdurations: [''],\r\n\t\t\t\t\tthreshold: 20000,\r\n\t\t\t\t};\r\n\t\t\tcase 'schedule':\r\n\t\t\t\tpumpStatus = {\r\n\t\t\t\t\t...pumpStatus,\r\n\t\t\t\t\tdays: [''],\r\n\t\t\t\t\tthreshold: 20000,\r\n\t\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst resData = await axios.post(\r\n\t\t\t'https://fb26d8c2.ngrok.io/pump/status',\r\n\t\t\tpumpStatus\r\n\t\t);\r\n\r\n\t\tconsole.log(resData);\r\n\t};\r\n\r\n\tconst getSensorData = async (pumpid) => {\r\n\t\tif (localStorage.token) {\r\n\t\t\tsetAuthToken(localStorage.token);\r\n\t\t}\r\n\r\n\t\tconst data = await axios.get(\r\n\t\t\t'https://fb26d8c2.ngrok.io/sensor/log/' + pumpid,\r\n\t\t\t{\r\n\t\t\t\tcrossdomain: true,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tdispatch({ type: GET_SENSOR_DATA, payload: data.data.records });\r\n\t};\r\n\r\n\tconst runPump = async (pumpid, duration) => {\r\n\t\tif (localStorage.token) {\r\n\t\t\tsetAuthToken(localStorage.token);\r\n\t\t}\r\n\r\n\t\tconst run = await axios.get(\r\n\t\t\t'https://fb26d8c2.ngrok.io/pump/run/' + pumpid + '/' + duration\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PumpContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tpumpStatus: state.pumpStatus,\r\n\t\t\t\tloaded: state.loaded,\r\n\t\t\t\tsensordata: state.sensordata,\r\n\t\t\t\tgetStatus,\r\n\t\t\t\tupdateStatus,\r\n\t\t\t\trunPump,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</PumpContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default PumpState;\r\n","import { createContext } from 'react';\r\n\r\nconst authContext = createContext();\r\n\r\nexport default authContext;\r\n","import React, { Fragment, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AuthContext from '../context/auth/authContext';\r\n\r\nconst Navbar = () => {\r\n\tconst authContext = useContext(AuthContext);\r\n\r\n\tconst { isAuthenticated, logout } = authContext;\r\n\r\n\tconst guestlinks = (\r\n\t\t<li>\r\n\t\t\t<Link to=\"/login\">Login</Link>\r\n\t\t</li>\r\n\t);\r\n\r\n\tconst authlinks = (\r\n\t\t<Fragment>\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/\">Pumps</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/camera\">Camera</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a onClick={logout} href=\"#!\">\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</Fragment>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"navbar\">\r\n\t\t\t<ul>{isAuthenticated ? authlinks : guestlinks}</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst DayDrop = (props) => {\r\n\tconst { onChange, className, name, childkey, day } = props;\r\n\treturn (\r\n\t\t<select\r\n\t\t\tclassName={className}\r\n\t\t\tkey={childkey}\r\n\t\t\tname={name}\r\n\t\t\ttype=\"text\"\r\n\t\t\tonChange={onChange}\r\n\t\t>\r\n\t\t\t<option value={day} hidden>\r\n\t\t\t\t{day}\r\n\t\t\t</option>\r\n\t\t\t<option value=\"Monday\">Monday</option>\r\n\t\t\t<option value=\"Tuesday\">Tuesday</option>\r\n\t\t\t<option value=\"Wednesday\">Wednesday</option>\r\n\t\t\t<option value=\"Thursday\">Thursday</option>\r\n\t\t\t<option value=\"Friday\">Friday</option>\r\n\t\t\t<option value=\"Saturday\">Saturday</option>\r\n\t\t\t<option value=\"Sunday\">Sunday</option>\r\n\t\t</select>\r\n\t);\r\n};\r\n\r\nexport default DayDrop;\r\n","import React from 'react';\r\n\r\nconst TypeDrop = (props) => {\r\n\tconst { type, onChange } = props;\r\n\r\n\treturn (\r\n\t\t<select name=\"type\" type=\"text\" onChange={onChange}>\r\n\t\t\t<option value={type}>\r\n\t\t\t\t{type == 'scheduleday'\r\n\t\t\t\t\t? 'Schedule Day'\r\n\t\t\t\t\t: type.charAt(0).toUpperCase() + type.slice(1)}\r\n\t\t\t</option>\r\n\t\t\t<option value=\"off\">Off</option>\r\n\t\t\t<option value=\"auto\">Auto</option>\r\n\t\t\t<option value=\"schedule\">Schedule</option>\r\n\t\t\t<option value=\"scheduleday\">Schedule Day</option>\r\n\t\t</select>\r\n\t);\r\n};\r\n\r\nexport default TypeDrop;\r\n","import React, { useState, useContext, useEffect, Fragment } from 'react';\r\nimport PumpContext from '../context/pump/pumpContext';\r\nimport DayDrop from './Widgets/DayDrop';\r\nimport TypeDrop from './Widgets/TypeDrop';\r\n\r\nconst PumpSettings = () => {\r\n\tconst pumpContext = useContext(PumpContext);\r\n\r\n\tconst [stateStatus, setStateStatus] = useState({\r\n\t\tpumpid: 1,\r\n\t\ttype: 'off',\r\n\t\ttimes: [''],\r\n\t\tdays: [''],\r\n\t\tdurations: [''],\r\n\t\tthreshold: 20000,\r\n\t});\r\n\r\n\tconst { pumpStatus, getStatus, updateStatus, loaded, runPump } = pumpContext;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loaded) {\r\n\t\t\tgetStatus(1);\r\n\t\t}\r\n\t\tsetStateStatus(pumpStatus);\r\n\t}, [pumpStatus]);\r\n\r\n\tconst { pumpid, type, days, times, durations, threshold } = stateStatus;\r\n\r\n\tconst onChange = (e) => {\r\n\t\tif (e.target.name === 'type') {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\ttype: e.target.value,\r\n\t\t\t});\r\n\t\t} else if (e.target.name.includes('day')) {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\tdays: [].concat(\r\n\t\t\t\t\tdays.slice(0, parseInt(e.target.name.replace('day-', ''))),\r\n\t\t\t\t\te.target.value,\r\n\t\t\t\t\tdays.slice(\r\n\t\t\t\t\t\tparseInt(e.target.name.replace('day-', '')) + 1,\r\n\t\t\t\t\t\tdays.length\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t} else if (e.target.name.includes('time')) {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\ttimes: [].concat(\r\n\t\t\t\t\ttimes.slice(0, parseInt(e.target.name.replace('time-', ''))),\r\n\t\t\t\t\te.target.value,\r\n\t\t\t\t\ttimes.slice(\r\n\t\t\t\t\t\tparseInt(e.target.name.replace('time-', '')) + 1,\r\n\t\t\t\t\t\ttimes.length\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t} else if (e.target.name.includes('duration')) {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\tdurations: [].concat(\r\n\t\t\t\t\tdurations.slice(0, parseInt(e.target.name.replace('duration-', ''))),\r\n\t\t\t\t\te.target.value,\r\n\t\t\t\t\tdurations.slice(\r\n\t\t\t\t\t\tparseInt(e.target.name.replace('duration-', '')) + 1,\r\n\t\t\t\t\t\tdurations.length\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst addRow = () => {\r\n\t\tif (type === 'scheduleday') {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\tdays: days.concat(''),\r\n\t\t\t\ttimes: times.concat(''),\r\n\t\t\t\tdurations: durations.concat(''),\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetStateStatus({\r\n\t\t\t\t...stateStatus,\r\n\t\t\t\ttimes: times.concat(''),\r\n\t\t\t\tdurations: durations.concat(''),\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className=\"pumpsettings\">\r\n\t\t\t\t<br></br>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"type\">Type</label>\r\n\t\t\t\t\t\t<TypeDrop type={type} onChange={onChange}></TypeDrop>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{type === 'scheduleday' ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<div className=\"multi-form-group four\">\r\n\t\t\t\t\t\t\t\t<label className=\"multi-form-title\">Schedule</label>\r\n\t\t\t\t\t\t\t\t<div className=\"col2\">Days</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col3\">Times</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col4\">Durations</div>\r\n\t\t\t\t\t\t\t\t{days.map((day, index) => (\r\n\t\t\t\t\t\t\t\t\t<DayDrop\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col2\"\r\n\t\t\t\t\t\t\t\t\t\tname={'day-' + index}\r\n\t\t\t\t\t\t\t\t\t\tchildkey={'day-' + index}\r\n\t\t\t\t\t\t\t\t\t\tday={day}\r\n\t\t\t\t\t\t\t\t\t></DayDrop>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{times.map((time, index) => (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col3\"\r\n\t\t\t\t\t\t\t\t\t\tname={'time-' + index}\r\n\t\t\t\t\t\t\t\t\t\tkey={'time-' + index}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={time}\r\n\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{durations.map((duration, index) => (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col4\"\r\n\t\t\t\t\t\t\t\t\t\tname={'duration-' + index}\r\n\t\t\t\t\t\t\t\t\t\tkey={'duration-' + index}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={duration}\r\n\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className=\"btn btn-right\" onClick={addRow}>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : type === 'schedule' ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<div className=\"multi-form-group\">\r\n\t\t\t\t\t\t\t\t<label className=\"multi-form-title\">Schedule</label>\r\n\t\t\t\t\t\t\t\t<div className=\"col2\">Times</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col3\">Durations</div>\r\n\t\t\t\t\t\t\t\t{times.map((time, index) => (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col2\"\r\n\t\t\t\t\t\t\t\t\t\tname={'time-' + index}\r\n\t\t\t\t\t\t\t\t\t\tkey={'time-' + index}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"time\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={time}\r\n\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{durations.map((duration, index) => (\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"col3\"\r\n\t\t\t\t\t\t\t\t\t\tname={'duration-' + index}\r\n\t\t\t\t\t\t\t\t\t\tkey={'duration-' + index}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={duration}\r\n\t\t\t\t\t\t\t\t\t></input>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span className=\"btn btn-right\" onClick={addRow}>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : type === 'auto' ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"threshold\">Threshold</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"threshold\"></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"duration\">Duration</label>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"duration\"></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</form>\r\n\t\t\t\t<br></br>\r\n\t\t\t\t<br></br>\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName=\"btn btn-right\"\r\n\t\t\t\t\tonClick={(e) => updateStatus(stateStatus)}\r\n\t\t\t\t>\r\n\t\t\t\t\tUpdate\r\n\t\t\t\t</span>\r\n\t\t\t\t<br></br>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"rundur\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"btn\"\r\n\t\t\t\t\t\t\tonClick={(e) =>\r\n\t\t\t\t\t\t\t\trunPump(pumpid, document.getElementById('rundur').value)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tRun Pump\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{ marginRight: '2%' }}\r\n\t\t\t\t\t\tid=\"rundur\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"rundur\"\r\n\t\t\t\t\t\tstep=\"0.5\"\r\n\t\t\t\t\t></input>\r\n\t\t\t\t\t<span>Sec</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default PumpSettings;\r\n","import React, { useEffect, useContext } from 'react';\r\nimport PumpContext from '../context/pump/pumpContext';\r\nimport { GoogleCharts } from 'google-charts';\r\n\r\nconst PumpPlot = () => {\r\n\tconst pumpContext = useContext(PumpContext);\r\n\tconst { sensordata } = pumpContext;\r\n\r\n\tuseEffect(() => {\r\n\t\tGoogleCharts.load(drawChart);\r\n\r\n\t\tfunction drawChart() {\r\n\t\t\tconst data = GoogleCharts.api.visualization.arrayToDataTable(\r\n\t\t\t\tsensordata.map((item, index) => {\r\n\t\t\t\t\tif (index == 0) {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn [new Date(item[0]), item[1]];\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tvar options = {\r\n\t\t\t\ttitle: 'Moisture Reading',\r\n\t\t\t\tvAxis: {\r\n\t\t\t\t\tviewWindow: {\r\n\t\t\t\t\t\tmax:\r\n\t\t\t\t\t\t\tMath.max.apply(\r\n\t\t\t\t\t\t\t\tMath,\r\n\t\t\t\t\t\t\t\tsensordata.slice(1).map((row, index) => {\r\n\t\t\t\t\t\t\t\t\treturn row[1];\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) * 1.1,\r\n\t\t\t\t\t\tmin:\r\n\t\t\t\t\t\t\tMath.min.apply(\r\n\t\t\t\t\t\t\t\tMath,\r\n\t\t\t\t\t\t\t\tsensordata.slice(1).map((row, index) => {\r\n\t\t\t\t\t\t\t\t\treturn row[1];\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) * 0.9,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tchartArea: {\r\n\t\t\t\t\t// leave room for y-axis labels\r\n\t\t\t\t\twidth: '94%',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst linechart = new GoogleCharts.api.visualization.LineChart(\r\n\t\t\t\tdocument.getElementById('chart')\r\n\t\t\t);\r\n\r\n\t\t\tlinechart.draw(data, options);\r\n\t\t}\r\n\t}, [sensordata]);\r\n\r\n\treturn <div id=\"chart\"></div>;\r\n};\r\n\r\nexport default PumpPlot;\r\n","import React, { useContext } from 'react';\r\nimport PumpContext from '../context/pump/pumpContext';\r\nimport PumpSettings from './PumpSettings';\r\nimport PumpPlot from './PumpPlot';\r\n\r\nconst Pump = () => {\r\n\tconst pumpContext = useContext(PumpContext);\r\n\r\n\tconst { pumpStatus, getStatus } = pumpContext;\r\n\r\n\tconst { pumpid } = pumpStatus;\r\n\r\n\tconst nextPump = () => {\r\n\t\tif (pumpid < 4) {\r\n\t\t\tgetStatus(pumpid + 1);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prevPump = () => {\r\n\t\tif (pumpid > 1) {\r\n\t\t\tgetStatus(pumpid - 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"pump\">\r\n\t\t\t\t<h1>Pump {pumpid}</h1>\r\n\t\t\t\t<span className=\"btn\" onClick={prevPump}>\r\n\t\t\t\t\tPrev\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className=\"btn\" onClick={nextPump}>\r\n\t\t\t\t\tNext\r\n\t\t\t\t</span>\r\n\t\t\t\t<PumpPlot></PumpPlot>\r\n\t\t\t\t<PumpSettings></PumpSettings>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pump;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\n\r\nimport authContext from '../context/auth/authContext';\r\n\r\nconst Login = (props) => {\r\n\tconst AuthContext = useContext(authContext);\r\n\r\n\tconst { login, isAuthenticated } = AuthContext;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAuthenticated) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, [isAuthenticated]);\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tconst { username, password } = formData;\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (username !== '' || password !== '') {\r\n\t\t\tlogin({ username, password });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"pump\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<div className=\"pumpsettings\">\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span onClick={(e) => onSubmit(e)} className=\"btn btn-right\">\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst Camera = () => {\r\n\tconst [currpic, setCurrpic] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tvar startX;\r\n\r\n\t\tdocument.getElementById('imagebox-curr').innerHTML =\r\n\t\t\t'<img style=\"max-width:100%;height:auto;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\tcurrpic +\r\n\t\t\t'\">';\r\n\r\n\t\tdocument.getElementById('imagebox-prev').innerHTML =\r\n\t\t\t'<img style=\"max-width:100%;height:auto;display:none;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\tparseInt(currpic - 1) +\r\n\t\t\t'\">';\r\n\t\tdocument.getElementById('imagebox-prev-2').innerHTML =\r\n\t\t\t'<img style=\"max-width:100%;height:auto;display:none;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\tparseInt(currpic - 2) +\r\n\t\t\t'\">';\r\n\r\n\t\tdocument\r\n\t\t\t.getElementById('imagebox-curr')\r\n\t\t\t.addEventListener('touchstart', function (e) {\r\n\t\t\t\tstartX = e.changedTouches[0].screenX;\r\n\t\t\t});\r\n\r\n\t\tdocument\r\n\t\t\t.getElementById('imagebox-curr')\r\n\t\t\t.addEventListener('touchend', function (e) {\r\n\t\t\t\tif (startX > e.changedTouches[0].screenX + 50) {\r\n\t\t\t\t\tnextPic();\r\n\t\t\t\t} else if (startX < e.changedTouches[0].screenX - 50) {\r\n\t\t\t\t\tlastPic();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst nextPic = () => {\r\n\t\tif (currpic < 0) {\r\n\t\t\tdocument.getElementById('imagebox-curr').innerHTML =\r\n\t\t\t\t'<img style=\"max-width:100%;height:auto;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\t\tparseInt(currpic + 1) +\r\n\t\t\t\t'\">';\r\n\t\t\tsetCurrpic(currpic + 1);\r\n\t\t}\r\n\t};\r\n\tconst lastPic = () => {\r\n\t\tif (currpic <= 0) {\r\n\t\t\tvar nextPic = parseInt(currpic - 1);\r\n\t\t\tdocument.getElementById('imagebox-curr').innerHTML =\r\n\t\t\t\t'<img style=\"max-width:100%;height:auto;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\t\tnextPic +\r\n\t\t\t\t'\">';\r\n\t\t\tsetCurrpic(parseInt(currpic - 1));\r\n\t\t\tdocument.getElementById('imagebox-prev').innerHTML =\r\n\t\t\t\t'<img style=\"max-width:100%;height:auto;display:none;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\t\tparseInt(currpic - 2) +\r\n\t\t\t\t'\">';\r\n\t\t\tdocument.getElementById('imagebox-prev-2').innerHTML =\r\n\t\t\t\t'<img style=\"max-width:100%;height:auto;display:none;\" src=\"https://fb26d8c2.ngrok.io/pic/' +\r\n\t\t\t\tparseInt(currpic - 3) +\r\n\t\t\t\t'\">';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"pump\">\r\n\t\t\t<div id=\"imagebox-prev-2\"></div>\r\n\t\t\t<div id=\"imagebox-prev\"></div>\r\n\t\t\t<div id=\"imagebox-curr\"></div>\r\n\t\t\t<span className=\"btn\" onClick={lastPic}>\r\n\t\t\t\tPrev\r\n\t\t\t</span>\r\n\t\t\t<span className=\"btn\" onClick={nextPic}>\r\n\t\t\t\tNext\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Camera;\r\n","import {\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tCLEAR_ERRORS,\r\n\tLOGIN_FAIL,\r\n} from '../types';\r\n\r\nexport default (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\tlocalStorage.setItem('token', action.payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase LOGIN_FAIL:\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase LOGOUT:\r\n\t\t\tlocalStorage.removeItem('token');\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: false,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusername: null,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase CLEAR_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: null,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React, { useReducer } from 'react';\r\nimport AuthContext from './authContext';\r\nimport authReducer from '././authReducer';\r\nimport setAuthToken from '../../utils/setAuthToken';\r\nimport axios from 'axios';\r\n\r\nimport {\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT,\r\n\tCLEAR_ERRORS,\r\n\tAUTH_ERROR,\r\n} from '../types';\r\n\r\nconst AuthState = (props) => {\r\n\tconst initalState = {\r\n\t\ttoken: localStorage.getItem('token'),\r\n\t\tisAuthenticated: false,\r\n\t\tloading: false,\r\n\t\tusername: null,\r\n\t};\r\n\r\n\tconst [state, dispatch] = useReducer(authReducer, initalState);\r\n\r\n\t// Login User\r\n\tconst login = async (formData) => {\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(\r\n\t\t\t\t'https://fb26d8c2.ngrok.io/auth',\r\n\t\t\t\tformData,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_FAIL,\r\n\t\t\t\tpayload: err.response.data.msg,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// Logout\r\n\tconst logout = () => {\r\n\t\tdispatch({ type: LOGOUT });\r\n\t};\r\n\r\n\t// Clear Errors\r\n\tconst clearErrors = () => {\r\n\t\tdispatch({ type: CLEAR_ERRORS });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\ttoken: state.token,\r\n\t\t\t\tisAuthenticated: state.isAuthenticated,\r\n\t\t\t\tloading: state.loading,\r\n\t\t\t\tusername: state.username,\r\n\t\t\t\tlogin,\r\n\t\t\t\tlogout,\r\n\t\t\t\tclearErrors,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default AuthState;\r\n","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport AuthContext from '../context/auth/authContext';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst authContext = useContext(AuthContext);\r\n\r\n\tconst { isAuthenticated, loading } = authContext;\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\t!isAuthenticated && !loading ? (\r\n\t\t\t\t\t<Redirect to=\"/login\"></Redirect>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Component {...props}></Component>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t></Route>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\nimport './App.css';\n\nimport PumpState from './context/pump/PumpState';\nimport Navbar from './components/Navbar';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Pump from './components/Pump';\nimport Login from './Pages/Login';\nimport Camera from './Pages/Camera';\nimport AuthState from './context/auth/AuthState';\nimport PrivateRoute from './routing/PrivateRoute';\n\nfunction App() {\n\treturn (\n\t\t<AuthState>\n\t\t\t<PumpState>\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Navbar></Navbar>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<PrivateRoute exact path=\"/\" component={Pump}></PrivateRoute>\n\t\t\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/camera\"\n\t\t\t\t\t\t\t\tcomponent={Camera}\n\t\t\t\t\t\t\t></PrivateRoute>\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={Login}></Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Router>\n\t\t\t\t</div>\n\t\t\t</PumpState>\n\t\t</AuthState>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}